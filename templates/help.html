{% extends "base.html" %}
{% block footer %}{% endblock %}
{% block content %}

<section class="panel help">
    <h2>Usage and Concept</h2>
    <p>
        This inventory is designed for an electronics workbench: fast search, minimal friction,
        and pragmatic structure. It is not a purchasing system or ERP. It reflects how engineers
        actually store and retrieve parts.
    </p>
</section>

<section class="panel help">
    <h3>Core Model</h3>
    <ul>
        <li><b>Each row represents a part you want to find again</b> (IC, passive value, module, breakout, connector
            set).</li>
        <li><b>Optional reference links</b>: store datasheet and pinout URLs per part for quick access.</li>
        <li><b>Physical storage stays flexible</b>: drawers, boxes, bags, reels — no forced standardization.</li>
        <li><b>Category and Container are guided fields</b>:
            <ul>
                <li><b>Add form:</b> text input with suggestions (datalist).</li>
                <li><b>Inline edit:</b> dropdown selection from known values.</li>
            </ul>
        </li>
        <li><b>Lists update automatically</b> when you add or edit parts (no manual sync).</li>
    </ul>
</section>

<section class="panel help">
    <h3>Before You Populate Lots of Data</h3>
    <p class="muted">
        You do not need a perfect taxonomy. You need a consistent one. The system will stay maintainable if you keep
        Category and Container stable and push detail into Description/Subcategory.
    </p>

    <h4>Container naming convention</h4>
    <ul>
        <li>Use short, label-friendly codes (no spaces), e.g. <span class="mono">BX-01</span>, <span
                class="mono">BX-02</span>, <span class="mono">DR-A1</span>, <span class="mono">DR-A2</span>.</li>
        <li>Prefer <b>type + number</b> or <b>grid</b>:
            <ul>
                <li><span class="mono">BX-03</span> = box 3</li>
                <li><span class="mono">DR-A4</span> = drawer column A, slot 4</li>
                <li><span class="mono">RACK-1</span> = rack 1</li>
            </ul>
        </li>
        <li>Keep codes stable. If you reorganize, move parts by updating the container code in rows.</li>
    </ul>

    <h4>Category list: keep it small</h4>
    <ul>
        <li>Target <b>5–12 categories</b>, not 40.</li>
        <li>Categories should be coarse “what kind of thing is it”, not circuit function.</li>
        <li>Example set (works well in practice):
            <span class="mono">PASSIVE</span>, <span class="mono">IC</span>, <span class="mono">MCU</span>, <span
                class="mono">MODULE</span>, <span class="mono">CONNECTOR</span>, <span class="mono">MECH</span>, <span
                class="mono">TOOLS</span>
        </li>
    </ul>

    <h4>Description: optimize for search</h4>
    <ul>
        <li>Write what you will actually search for: <b>MPN + package + key detail</b>.</li>
        <li>Good examples:
            <ul>
                <li><span class="mono">LM358 (SOIC-8)</span></li>
                <li><span class="mono">ADS1115 breakout (I2C)</span></li>
                <li><span class="mono">ESP32-S3 DevKitC-1</span></li>
                <li><span class="mono">10k 1% 0603 resistor</span></li>
            </ul>
        </li>
        <li>Avoid descriptions that are only functional and not identifying (e.g. “opamp”, “sensor board”).</li>
    </ul>
</section>

<section class="panel help">
    <h3>Containers (Physical Location)</h3>
    <p>
        A container represents a <b>physical storage unit</b> such as a box, drawer, or compartment.
        Containers are identified by a short, stable code.
    </p>
    <ul>
        <li>Examples: <span class="mono">BX-03</span>, <span class="mono">DR-A2</span>, <span class="mono">RACK-1</span>
        </li>
        <li><b>Add form</b> suggests existing container codes; you can still type a new one.</li>
        <li><b>Inline edit</b> uses a dropdown to keep values consistent.</li>
        <li><b>Navigation:</b> click a container chip in the inventory table to open that container’s page.</li>
    </ul>
</section>

<section class="panel help">
    <h3>Categories (What the Part Is)</h3>
    <p>
        Categories describe the <b>type of part</b>, not its value or function in a circuit.
    </p>
    <ul>
        <li>Examples: <span class="mono">IC</span>, <span class="mono">MCU</span>, <span class="mono">PASSIVE</span>,
            <span class="mono">MODULE</span>, <span class="mono">CONNECTOR</span>
        </li>
        <li>Keep categories coarse; put specifics in subcategory and description.</li>
    </ul>
</section>

<section class="panel help">
    <h3>Subcategories (Optional Refinement)</h3>
    <p>
        Subcategory is optional and remains <b>free text</b>, but the add form provides suggestions from what you have
        used before.
    </p>
    <ul>
        <li>Examples under <span class="mono">IC</span>: OpAmp, Logic, Driver, ADC</li>
        <li>Examples under <span class="mono">MCU</span>: ESP32, RP2040, AVR</li>
    </ul>
    <p class="muted">
        Recommendation: keep subcategories consistent within a category, but do not over-structure.
    </p>
</section>

<section class="panel help">
    <h3>Daily Workflow</h3>
    <ol>
        <li><b>Add a part:</b> assign category & container, write a searchable description, set approximate quantity.
        </li>
        <li><b>Find parts:</b> search by description, category, or container code.</li>
        <li><b>Consume parts:</b> update quantity inline.</li>
        <li><b>Reorganize storage:</b> update container codes for affected rows.</li>
    </ol>
</section>

<section class="panel help">
    <h3>Datasheet & Pinout Links</h3>
    <p>
        Each part can store optional URLs to its <b>datasheet</b> and <b>pinout</b> for quick reference.
    </p>
    <ul>
        <li><b><span class="help-icon help-icon--pdf" aria-hidden="true"></span>Datasheet:</b> hover (or tap on mobile) to show an <b>Open</b> link; click the icon to edit.</li>
        <li><b><span class="help-icon help-icon--pinout" aria-hidden="true"></span>Pinout:</b> if the URL points to an image, hover (or tap on mobile) shows a preview; click the icon to edit.</li>
        <li>Links open in a new tab and can be edited any time.</li>
    </ul>
</section>

<section class="panel help">
    <h3>Images (Device + Pinout)</h3>
    <p>
        To get an immediate look & feel, you can store a device image and optionally make the pinout URL point to an image:
    </p>
    <ul>
        <li><b><span class="help-icon help-icon--image" aria-hidden="true"></span>Device image:</b> a photo of the IC/module/device.</li>
        <li><b><span class="help-icon help-icon--pinout" aria-hidden="true"></span>Pinout:</b> store a URL; if it ends in an image extension, it previews on hover.</li>
    </ul>
    <p>
        <b>Recommended:</b> store images under the app's <span class="mono">static/</span> folder and reference them as
        <span class="mono">/static/…</span> URLs.
    </p>
    <p class="muted">
        Note: <span class="mono">static/images/</span> and <span class="mono">static/pinouts/</span> exist in the repository, but the actual image files are intentionally ignored by git.
    </p>
    <ul>
        <li>Example: <span class="mono">/static/images/MP2307_HW133ABC_board.jpg</span></li>
        <li>Example: <span class="mono">/static/pinouts/MP2307_pinout.jpg</span> (as the pinout URL)</li>
    </ul>
    <p class="muted">
        Hover shows an image preview for URLs ending in <span class="mono">.png</span>, <span class="mono">.jpg</span>,
        <span class="mono">.jpeg</span>, <span class="mono">.gif</span>, <span class="mono">.webp</span>, <span class="mono">.svg</span>.
        On mobile/touch devices, tap the icon to open the preview. Clicking the preview opens it in a new tab; clicking the icon opens the editor.
    </p>
</section>

<section class="panel help">
    <h3>Delete & Restore (Trash)</h3>
    <p>
        When you delete a part, it is not immediately destroyed. It is moved into a <b>trash</b> table so you can undo
        mistakes.
    </p>
    <ul>
        <li><b>Delete:</b> removes the part from the main table and moves it to trash.</li>
        <li><b>Restore page:</b> open <span class="mono">/restore</span> (also available via the navigation).</li>
        <li><b>Restore selected:</b> tick the checkboxes and restore only those rows.</li>
        <li><b>Restore by current filter:</b> use the search/category/container filters, then restore everything that
            matches.</li>
    </ul>
    <p class="muted">
        Note: the trash is stored in the same <span class="mono">inventory.db</span> file. Backing up that file backs up
        both the inventory and the trash.
    </p>
</section>

<section class="panel help">
    <h3>Label Strategy</h3>
    <p>Physically label containers with their container code:</p>
    <pre class="mono">BX-03</pre>
    <p>Searching for a container code shows all parts stored there.</p>

    <p class="muted">
        QR codes encode a URL based on the server's configured base URL; if you access this app via a reverse proxy / public hostname,
        the QR links will follow that.
    </p>

    <h4>Printing labels</h4>
    <ul>
        <li>Go to <span class="mono">Labels</span> in the navigation, select containers and a preset, then print.</li>
        <li>Presets come from the available layout files in <span class="mono">static/avery_*.css</span>.</li>
        <li>For best results, use print settings: <b>Scale 100%</b>, <b>Margins: none</b>, and disable browser
            <b>headers/footers</b>.</li>
        <li>By default, outlines are not printed (best for real Avery sheets). Enable <b>Print cut outlines</b> for
            calibration / plain paper prints <span class="muted">(always shown on screen; printed only when enabled)</span>.</li>
        <li>If alignment is slightly off (common), calibrate the preset CSS using:
            <span class="mono">--label_offset_x</span>/<span class="mono">--label_offset_y</span> (sheet shift) and
            <span class="mono">--label_gap_x</span>/<span class="mono">--label_gap_y</span> (spacing).</li>
    </ul>
</section>

<section class="panel help">
    <h3>Data Integrity Guarantees</h3>
    <ul>
        <li>Category and Container values stay consistent via controlled edit dropdowns.</li>
        <li>Suggestion lists update automatically (no manual cleanup scripts required).</li>
        <li>The SQLite database remains portable and human-readable.</li>
    </ul>
</section>

<section class="panel help">
    <h3>Backup</h3>
    <ul>
        <li>The entire inventory is stored in one file: <span class="mono">inventory.db</span>.</li>
        <li>Backing up this file is sufficient.</li>
    </ul>
</section>

<section class="panel help">
    <h3>Planned (Optional)</h3>
    <ul>
        <li>Batch operations (move container / adjust quantity)</li>
        <li>Dependent subcategory suggestions by category</li>
        <li>Label / QR-code support</li>
    </ul>
</section>

{% endblock %}